---
import { AiOutlineGithub } from "react-icons/ai";
import { ThemeToggle } from "./ThemeToggle.tsx";
import { BsCodeSlash } from "react-icons/bs";
import { GiSkills } from "react-icons/gi";
import { MotionHeader } from "./motion/MotionHeader";
---

<MotionHeader client:visible>
  <a href="/">Logo</a>
  <div class="flex gap-2 font-normal">
    <a href="/#skills" class="navlink"><GiSkills />Skills</a>
    <a href="/#works" class="navlink"><BsCodeSlash />Works</a>
    <a href="" class="navlink"><AiOutlineGithub />Source</a>
    <ThemeToggle client:load />
  </div>
</MotionHeader>

<style>
  a {
    display: flex;
    gap: 4px;
    align-items: center;
  }
</style>
<script>
  const links = document.querySelectorAll("a.navlink");
  links.forEach((link) => {
    link.addEventListener("click", (e) => {
      e.preventDefault();
      const id = link.getAttribute("href")?.slice(1);
      if (!id) return;
      const target = document.querySelector(id);
      if (!target) return;
      target.scrollIntoView({ behavior: "smooth" });
    });
  });
</script>
