---
import { ThemeToggle } from "./ThemeToggle.tsx";
import { MotionHeader } from "./motion/MotionHeader";
import { Icon } from "astro-icon";
---

<MotionHeader client:visible>
  <a href="/" class="text-white font-bold font-lato">@iufb.</a>
  <div class="flex gap-2 font-normal">
    <a href="/#skills" class="navlink"
      ><Icon pack="cib" name="skillshare" size={20} />Skills</a
    >
    <a href="/#works" class="navlink"
      ><Icon pack="ic" name="sharp-work" size={20} />Works</a
    >
    <a
      href="https://github.com/iufb/portfolio-astro"
      target="_blank"
      class="navlink"><Icon pack="mdi" name="github" size={20} />Source</a
    >
    <ThemeToggle client:load />
  </div>
</MotionHeader>

<style>
  a {
    display: flex;
    gap: 4px;
    align-items: center;
  }
</style>
<script>
  const links = document.querySelectorAll("a.navlink");
  links.forEach((link) => {
    link.addEventListener("click", (e) => {
      e.preventDefault();
      const id = link.getAttribute("href")?.slice(1);
      if (!id) return;
      const target = document.querySelector(id);
      if (!target) return;
      target.scrollIntoView({ behavior: "smooth" });
    });
  });
</script>
